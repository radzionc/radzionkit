---
description: Use shouldBePresent() instead of optional chaining or default values for required values
globs: *.ts,*.tsx
alwaysApply: false
---

# Assertion Standards

## Requirements

- Use `shouldBePresent()` for values that should always exist
- Throw early and explicitly with clear error messages
- Avoid optional chaining and default values for required data

## Examples

<example>
// Required configuration
const config = {
  apiKey: shouldBePresent(process.env.API_KEY, 'API_KEY'),
  baseUrl: shouldBePresent(process.env.BASE_URL, 'BASE_URL')
}
</example>

<example type="invalid">
// Don't use defaults for required values
const config = {
  apiKey: process.env.API_KEY || '',
  baseUrl: process.env.BASE_URL ?? 'http://localhost'
}
</example>

<example>
// Nested required values
const getUserName = (user: User) => {
  const profile = shouldBePresent(user.profile, 'user.profile')
  return shouldBePresent(profile.name, 'user.profile.name')
}
</example>

<example type="invalid">
// Don't use optional chaining for required values
const getUserName = (user: User) => {
  return user?.profile?.name || 'Anonymous'
}
</example>
